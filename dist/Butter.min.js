!function(t,e){"function"==typeof define&&define.amd?define(["baconjs","jquery"],e):"object"==typeof exports?module.exports=e():t.Butter=e()}(this,function(){var t,e;return t=function(t){return t=function(t){var e=this,n=function(t){"function"==typeof e[t]&&e[t].apply(e,arguments)};return this.bindings=[],this.views=[],this.state=new Bacon.Bus,this._setElement=function(){return this.$el=t.el instanceof $?t.el:$(t.el),this.el=this.$el[0],this.el||console.warn(t.el+"was not found!"),this},this._constructor=function(){for(var e in t){var i=t[e];"function"==typeof i&&(this[e]=i)}return this._setElement(),n("initialize"),this.state.onValue(n),this},this.render=function(){return this.state.push("beforeRender"),this.bind().state.push("afterRender"),this},this.unbind=function(){return this.$el.off(),$(t.events).each(function(t,n){e[n.name]&&(e[n.name].onValue()(),e[n.name]=null)}),this},this.bind=function(){return this.unbind(),$(t.events).each(function(t,n){e[n.name]=e.$el.asEventStream(n.type,n.el)}),this},this.remove=function(){this.state.push("beforeRemove"),this.state.end(),this.$el.remove(),$(this).each(function(t,n){e[n]=null})},this._constructor(),this}}({}),e=function(e){return e={View:t}}({})});